version: '2'

labels:

    rocks.puffin.name: Gogs 
    rocks.puffin.subtitle: painless, self-hosted Git service 
    rocks.puffin.website: https://gogs.io/ 
    rocks.puffin.description: |
        Gogs (Go Git Service) is a painless self-hosted Git service. 
        The goal of this project is to make the easiest, fastest, and most 
        painless way of setting up a self-hosted Git service visually similar 
        to GitHub.

services:

    main:
        image: loomchild/gogs
        ports: 
            - 3000
        volumes: 
            - main_data:/data
        environment:
            - VIRTUAL_HOST
            - VIRTUAL_PORT=3000
        networks:
            - front
            - back
            - default

volumes:
    main_data:

networks:
    front:
        external:
            name: "puffin_front"
    back:
        external:
            name: "puffin_back"
